<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SER AGRO - Soluciones de drones para el sector agropecuario</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <nav class="nav">
            <div class="logo">
                <img src="imagenes/logo color pleno.png" alt="SER.AGRO - Drones Agr√≠colas">
            </div>
            <ul class="nav-menu">
                <li><a href="index.html">HOME</a></li>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle">EQUIPOS</a>
                    <ul class="dropdown-menu">
                        <li><a href="dji-agras-t50.html">DJI AGRAS T50</a></li>
                        <li><a href="DJI-Agras-T100.html">DJI AGRAS T100</a></li>
                        <li><a href="dji-mavic-3.html">DJI MAVIC 3 MULTISPECTRAL</a></li>
                    </ul>
                </li>
            </ul>
            <div class="nav-toggle">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </nav>
    </header>

    <!-- Hero Section -->
    <section class="hero" id="home">
        <div class="hero-content">
            <h1 class="hero-title">Soluciones de drones para el sector agropecuario</h1>
            <h2 class="hero-subtitle">Tecnolog√≠a avanzada: optimiza la producci√≥n agr√≠cola, minimiza el impacto ambiental</h2>
            <a href="#contacto" class="btn-primary">Contactanos</a>
        </div>
        <div class="hero-video">
            <video autoplay muted loop>
                <source src="videos/dji_t100_web_optimized.mp4" type="video/mp4">
            </video>
        </div>
    </section>

    <!-- DJI Authorized Reseller -->
    <section class="intro">
        <div class="container">
            <div class="intro-content">
                <img src="imagenes/t100.jpg" alt="DJI Authorized Reseller" style="width: 50%; max-width: 400px; margin: 0 auto 2rem; display: block; transform: scaleX(1.1);">
            </div>
        </div>
    </section>

    <!-- Introducci√≥n -->
    <section class="intro">
        <div class="container">
            <div class="intro-content">
                <p><strong>En SER AGRO creemos en un futuro en el que la tecnolog√≠a, la ecolog√≠a y la producci√≥n agr√≠cola trabajen en armon√≠a.</strong></p>
                <p>Somos pioneros en la revoluci√≥n tecnol√≥gica de drones, desde los primeros modelos de consumo hasta la actualidad, enfoc√°ndonos en el sector agropecuario. Nos enorgullecemos de ser precursores en la democratizaci√≥n de la tecnolog√≠a agropecuaria, permitiendo a agricultores de todos los tama√±os y niveles de experiencia acceder a soluciones de vanguardia.</p>
            </div>
        </div>
    </section>

    <!-- Beneficios del uso de drones -->
    <section class="features">
        <div class="container">
            <h2>Beneficios del uso de drones</h2>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">üìà</div>
                    <h3>Aumento de la productividad y eficiencia</h3>
                    <p>Los drones sirven como "ojo en el cielo" para los productores, contribuyendo en recorridas de campos, control de aguadas, de cultivos, entre otros. Tambi√©n, dada la capacidad de seguir un plan de vuelo programado, tienen una participaci√≥n m√°s directa en la agricultura de precisi√≥n, realizando tareas como monitoreos, siembra al voleo, fertilizaci√≥n y pulverizaci√≥n.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üí∞</div>
                    <h3>Reducci√≥n de costos</h3>
                    <p>La alta resoluci√≥n de las im√°genes de un drone multiespectral, m√°s la capacidad del Agras de aplicar ultrabajo volumen de caldo, sumadas a la automatizaci√≥n de las tareas dirigidas por GPS, resultan en una precisi√≥n de aplicaci√≥n que permite reducir costos.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üó∫Ô∏è</div>
                    <h3>Optimizaci√≥n agr√≠cola</h3>
                    <p>Las im√°genes NDVI procesadas a partir de las im√°genes de un drone multiespectral, permiten detectar problemas de salud de los cultivos antes de que puedan ser observadas por el ojo humano, permitiendo tomar acciones preventivas. En efecto, se genera una menor p√©rdida de rendimiento de los cultivos, menor gasto en fitosanitarios y reducci√≥n del impacto ambiental.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">‚öôÔ∏è</div>
                    <h3>F√°cil de operar</h3>
                    <p>Cuentan con una interfaz amigable, un dise√±o intuitivo para facilitar su uso por agricultores con diversos niveles de habilidad y le permiten a los usuarios supervisar sus campos de manera remota.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">‚ôªÔ∏è</div>
                    <h3>Cuidado del medio ambiente</h3>
                    <p>La posibilidad de reducir la cantidad de agua a utilizar, la reducci√≥n del uso de fitosanitarios, la no utilizaci√≥n de combustibles f√≥siles y la posibilidad de aplicaci√≥n diferenciada, reducen sin lugar a dudas el impacto ambiental de la actividad.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Industrias potenciadas -->
    <section class="operations">
        <div class="container">
            <h2>Industrias potenciadas por el uso de drones</h2>
            <div class="operations-image">
                <img src="attached_assets/Industrias potenciadas por el uso de drones_1752696415722.png" alt="Industrias potenciadas por el uso de drones" style="width: 100%; max-width: 800px; margin: 0 auto 2rem; display: block; border-radius: 10px;">
            </div>
        </div>
    </section>


    <!-- Te acompa√±amos de punta a punta -->
    <section class="vision-radar">
        <div class="container">
            <h2>Te acompa√±amos de punta a punta</h2>
            <div class="vision-features">
                <div class="vision-item">
                    <div class="feature-icon">üîù</div>
                    <h4>Demostraciones informativas</h4>
                    <p>Ver para creer. Demostraciones en toda la Argentina</p>
                </div>
                <div class="vision-item">
                    <div class="feature-icon">üéß</div>
                    <h4>Asesor√≠a personalizada</h4>
                    <p>Expertos en drones y agricultura para resolver todas tus consultas</p>
                </div>
                <div class="vision-item">
                    <div class="feature-icon">üè∑Ô∏è</div>
                    <h4>Venta con garant√≠a</h4>
                    <p>Garant√≠a oficial DJI</p>
                </div>
                <div class="vision-item">
                    <div class="feature-icon">üí≥</div>
                    <h4>Financiaci√≥n</h4>
                    <p>Diversos planes de financiamiento</p>
                </div>
                <div class="vision-item">
                    <div class="feature-icon">üéì</div>
                    <h4>Capacitaciones</h4>
                    <p>Capacitaciones para empresas y productores en locaci√≥n del cliente.</p>
                </div>
                <div class="vision-item">
                    <div class="feature-icon">üîß</div>
                    <h4>Servicio Post-Venta</h4>
                    <p>Servicio t√©cnico y servicio de mantenimiento a los equipos.</p>
                </div>
                <div class="vision-item">
                    <div class="feature-icon">‚úÖ</div>
                    <h4>Accesorios y repuestos</h4>
                    <p>Stock siempre disponible.</p>
                </div>
                <div class="vision-item">
                    <div class="feature-icon">ü§ù</div>
                    <h4>Leasing</h4>
                    <p>Maximizar tu producci√≥n de manera accesible y eficiente.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Contacto -->
    <section class="contact" id="contacto">
        <div class="container">
            <h2>CONTACTO</h2>
            <p>Comunicate con SER AGRO por whatsapp, correo o completando el formulario de contacto. Uno de nuestros expertos seguir√° tu caso.</p>

            <div class="contact-info">
                <div class="contact-item">
                    <h4>Whatsapp</h4>
                    <p><a href="https://api.whatsapp.com/send?phone=5493465432688&text=Hola%2C+vengo+desde+el+sitio+de+SER+AGRO">+54 (93465) 432688</a></p>
                </div>
                <div class="contact-item">
                    <h4>Email</h4>
                    <p><a href="mailto:ser.agro@gruposer.com.ar">ser.agro@gruposer.com.ar</a></p>
                </div>
                <div class="contact-item">
                    <h4>Llamados</h4>
                    <p><a href="tel:+5493465432688">+54 (93465) 432688</a></p>
                </div>
            </div>

            <!-- Formulario de contacto -->
            <div class="contact-form-container">
                <h3>Formulario de contacto:</h3>
                <form class="contact-form" action="javascript:void(0)" method="post">
                    <div class="form-row">
                        <input type="text" name="nombre" placeholder="Nombre" required>
                        <input type="text" name="apellido" placeholder="Apellido" required>
                    </div>
                    <div class="form-row">
                        <input type="email" name="email" placeholder="Email" required>
                        <input type="tel" name="telefono" placeholder="Tel√©fono" required>
                    </div>
                    <select name="motivo" required>
                        <option value="">Motivo de consulta</option>
                        <option value="Inscripci√≥n a demostraciones">Inscripci√≥n a demostraciones</option>
                        <option value="Compra de drones">Compra de drones</option>
                        <option value="Capacitaciones">Capacitaciones</option>
                        <option value="Servicio de mantenimiento">Servicio de mantenimiento</option>
                        <option value="Servicio t√©cnico">Servicio t√©cnico</option>
                        <option value="Leasing drones">Leasing drones</option>
                        <option value="Accesorios y repuestos">Accesorios y repuestos</option>
                    </select>
                    <textarea name="mensaje" rows="5" placeholder="Escribinos tu consulta (opcional)"></textarea>
                    <button type="submit" class="btn-primary">Enviar</button>
                </form>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">
                    <img src="imagenes/logo color pleno.png" alt="SER.AGRO - Drones Agr√≠colas" width="200">
                    <img src="imagenes/dji agriculture1.png" alt="DJI Agriculture" width="400" style="margin-top: 1rem;">
                    <div style="margin-top: 1.5rem; display: flex; flex-direction: column; align-items: center; text-align: center;">
                        <p style="margin: 0 0 0.8rem 0; color: var(--light-color); font-weight: bold; font-size: 1rem;">Representante exclusivo de</p>
                        <img src="imagenes/LogoTektro-02.png" alt="Tektro" width="400" style="margin: 0;">
                    </div>
                </div>
                <div class="footer-columns">
                    <div class="footer-column">
                        <h4>Oficinas</h4>
                        <p><strong>Nuestras Oficinas:</strong><br>
                        Omar Carrasco 2773, Rosario, Argentina<br>
                        <strong>Horario de atenci√≥n:</strong><br>
                        Lunes a Viernes de 9:00 a 18:00</p>
                    </div>
                    <div class="footer-column">
                        <h4>Contacto</h4>
                        <p>Llamados: <a href="tel:+5493465432688">+54 (93465) 432688</a></p>
                        <p>WhatsApp: <a href="https://api.whatsapp.com/send?phone=5493465432688">+54 (93465) 432688</a></p>
                        <p>Email: <a href="mailto:ser.agro@gruposer.com.ar">ser.agro@gruposer.com.ar</a></p>
                        <p>Lun. a Vie. de 8:00 a 17:00</p>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>Copyright ¬© 2025 Agro | Grupo SER | Powered by FabeDesign</p>
            </div>
        </div>
    </footer>

    <script src="script.js"></script>
    <style>
        #chat-container{position:fixed;bottom:20px;right:20px;width:350px;max-width:90%;height:500px;border:1px solid #ccc;border-radius:10px;background-color:#fff;box-shadow:0 4px 8px rgba(0,0,0,0.1);display:flex;flex-direction:column;font-family:sans-serif;z-index:9999;transition:all .3s ease-in-out}
        #chat-header{display:flex;justify-content:space-between;align-items:center;background-color:#007bff;color:#fff;padding:10px 15px;border-top-left-radius:10px;border-top-right-radius:10px;font-weight:700}
        #close-chat-btn{background:none;border:none;color:white;font-size:24px;cursor:pointer;font-weight:bold;}
        #chat-messages{flex-grow:1;padding:15px;overflow-y:auto;display:flex;flex-direction:column;gap:10px}
        .message{padding:10px 15px;border-radius:20px;max-width:80%;line-height:1.4;word-wrap:break-word;}
        .user-message{background-color:#007bff;color:#fff;align-self:flex-end}
        .bot-message{background-color:#f1f1f1;color:#333;align-self:flex-start}
        #chat-input-area{display:flex;padding:10px;border-top:1px solid #ccc}
        #chat-input{flex-grow:1;border:1px solid #ccc;border-radius:20px;padding:10px 15px;margin-right:10px}
        #send-button{background-color:#007bff;color:#fff;border:none;border-radius:50%;width:40px;height:40px;cursor:pointer;font-size:18px;line-height:40px;text-align:center;flex-shrink:0;}
        #chat-bubble{position:fixed;bottom:20px;right:20px;width:60px;height:60px;background-color:#007bff;color:white;border-radius:50%;display:flex;justify-content:center;align-items:center;font-size:30px;cursor:pointer;box-shadow:0 2px 10px rgba(0,0,0,0.2);z-index:9998;transition:all .3s ease-in-out}
        .hidden{transform:scale(0);opacity:0;pointer-events:none;}
    </style>

    <div id="chat-container">
        <div id="chat-header">
            <span>Asesor Comercial</span>
            <button id="close-chat-btn">√ó</button>
        </div>
        <div id="chat-messages">
            <div class="message bot-message">¬°Hola! Soy Mavilda. ¬øEn qu√© puedo ayudarte hoy?</div>
        </div>
        <div id="chat-input-area">
            <input type="text" id="chat-input" placeholder="Escribe tu pregunta...">
            <button id="send-button">‚û§</button>
        </div>
    </div>

    <div id="chat-bubble" class="hidden">
        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" viewBox="0 0 16 16"><path d="M16 8c0 3.866-3.582 7-8 7a9 9 0 0 1-2.347-.306c-.584.296-1.925.864-4.181 1.234-.2.032-.352-.176-.273-.362.354-.836.674-1.95.77-2.966C.744 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7zM5 8a1 1 0 1 0-2 0 1 1 0 0 0 2 0zm4 0a1 1 0 1 0-2 0 1 1 0 0 0 2 0zm3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"/></svg>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // ... (resto del c√≥digo igual)
            const chatContainer = document.getElementById('chat-container');
            const closeChatBtn = document.getElementById('close-chat-btn');
            const chatBubble = document.getElementById('chat-bubble');
            const chatInput = document.getElementById("chat-input");
            const sendButton = document.getElementById("send-button");
            const chatMessages = document.getElementById("chat-messages");
            const API_URL = "https://asesor-comercial.replit.app/chat";

            // --- NUEVO: Variable para guardar la "memoria" ---
            let conversationId = null;

            const sendMessage = async () => {
                const userMessageText = chatInput.value.trim();
                if (userMessageText === "") return;
                addMessage(userMessageText, "user-message");
                chatInput.value = "";
                addMessage("...", "bot-message", "thinking");
                try {
                    const response = await fetch(API_URL, {
                        method: "POST",
                        headers: { "Content-Type": "application/json" },
                        // --- MODIFICADO: Enviamos tambi√©n el ID de la conversaci√≥n ---
                        body: JSON.stringify({ pregunta: userMessageText, conversation_id: conversationId })
                    });
                    if (!response.ok) throw new Error("Error en servidor");
                    const data = await response.json();

                    // --- MODIFICADO: Recibimos y guardamos el ID de la conversaci√≥n ---
                    conversationId = data.conversation_id;
                    updateThinkingMessage(data.respuesta || "No he podido obtener una respuesta.");

                } catch (error) {
                    console.error("Error:", error);
                    updateThinkingMessage("Lo siento, algo sali√≥ mal al contactar al servidor.");
                }
            };

            // ... (El resto de las funciones addMessage, updateThinkingMessage y los event listeners son iguales)
            const addMessage=(e,t,s="")=>{const n=document.createElement("div");n.className=`message ${t}`,n.textContent=e,s&&(n.id=s),chatMessages.appendChild(n),chatMessages.scrollTop=chatMessages.scrollHeight};
            const updateThinkingMessage=e=>{const t=document.getElementById("thinking");t&&(t.textContent=e,t.id="")};
            if(sendButton){sendButton.addEventListener("click",sendMessage);}
            if(chatInput){chatInput.addEventListener("keypress",(e)=>{if(e.key==="Enter")sendMessage();});}
            if(closeChatBtn){closeChatBtn.addEventListener('click',()=>{chatContainer.classList.add('hidden');chatBubble.classList.remove('hidden');});}
            if(chatBubble){chatBubble.addEventListener('click',()=>{chatBubble.classList.add('hidden');chatContainer.classList.remove('hidden');});}
        });
    </script>
</body>
</html>